"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/ChatWidget/MessageBubble.tsx":
/*!*****************************************************!*\
  !*** ./src/components/ChatWidget/MessageBubble.tsx ***!
  \*****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=motion!=!framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _barrel_optimize_names_Bot_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,User!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-markdown */ \"(app-pages-browser)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var _RiskProfileMCQ__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RiskProfileMCQ */ \"(app-pages-browser)/./src/components/ChatWidget/RiskProfileMCQ.tsx\");\n/* harmony import */ var _ChartComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ChartComponent */ \"(app-pages-browser)/./src/components/ChatWidget/ChartComponent.tsx\");\n/* harmony import */ var _GanttChart__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GanttChart */ \"(app-pages-browser)/./src/components/ChatWidget/GanttChart.tsx\");\n/* harmony import */ var _FundGrid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FundGrid */ \"(app-pages-browser)/./src/components/ChatWidget/FundGrid.tsx\");\n/* harmony import */ var _SimpleChart__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SimpleChart */ \"(app-pages-browser)/./src/components/ChatWidget/SimpleChart.tsx\");\n/* harmony import */ var _CompactChart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CompactChart */ \"(app-pages-browser)/./src/components/ChatWidget/CompactChart.tsx\");\n/* harmony import */ var _LeadCollectionForm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LeadCollectionForm */ \"(app-pages-browser)/./src/components/ChatWidget/LeadCollectionForm.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\nconst MessageBubble = (param)=>{\n    let { message, isLatest = false, onSendMessage } = param;\n    const isUser = message.role === \"user\";\n    const isAssistant = message.role === \"assistant\";\n    // Function to parse and render comparison charts\n    const renderComparisonChart = (content)=>{\n        try {\n            // Try to extract structured data first (from tool JSON response)\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"comparison\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.data && Array.isArray(toolData.data)) {\n                    // Extract metric from the data structure\n                    const firstItem = toolData.data[0];\n                    const metric = Object.keys(firstItem).find((key)=>key !== \"Fund Name\") || \"Performance\";\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GanttChart__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            title: toolData.title || \"Fund Performance Comparison\",\n                            data: toolData.data,\n                            metric: metric,\n                            className: \"w-full max-w-full\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 40,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n            // Fallback: Extract fund data from text content\n            const lines = content.split(\"\\n\");\n            const fundData = [];\n            let metric = \"365D Return\";\n            lines.forEach((line)=>{\n                const match = line.match(/(.+?):\\s*(\\d+\\.?\\d*)%/);\n                if (match) {\n                    const [, fundName, value] = match;\n                    fundData.push({\n                        \"Fund Name\": fundName.trim(),\n                        [metric]: parseFloat(value)\n                    });\n                }\n            });\n            if (fundData.length >= 2) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GanttChart__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        title: \"Fund Performance Comparison\",\n                        data: fundData,\n                        metric: metric,\n                        className: \"w-full max-w-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 70,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                    lineNumber: 69,\n                    columnNumber: 11\n                }, undefined);\n            }\n        } catch (error) {\n            console.error(\"Error rendering comparison chart:\", error);\n        }\n        return null;\n    };\n    // Function to render performance analysis charts\n    const renderPerformanceChart = (content)=>{\n        try {\n            // Try to extract structured data first (from tool JSON response)\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"performance_analysis\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.chart_data && toolData.chart_data.series) {\n                    const periods = Array.isArray(toolData.chart_data.xAxis) ? toolData.chart_data.xAxis : [];\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChartComponent__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            title: toolData.title || \"Performance Analysis\",\n                            data: {\n                                labels: periods,\n                                datasets: toolData.chart_data.series.map((fund, index)=>({\n                                        label: fund.fund_name,\n                                        data: periods.map((p)=>{\n                                            const raw = fund[p];\n                                            const num = typeof raw === \"number\" ? raw : parseFloat(String(raw));\n                                            return isNaN(num) ? 0 : num;\n                                        }),\n                                        color: [\n                                            \"#3b82f6\",\n                                            \"#10b981\",\n                                            \"#f59e0b\",\n                                            \"#ef4444\",\n                                            \"#8b5cf6\"\n                                        ][index] || \"#6b7280\"\n                                    }))\n                            },\n                            type: \"bar\",\n                            className: \"w-full max-w-full\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 95,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n            // Fallback: Extract multi-period performance data from text\n            const fundMatches = content.match(/(\\w+\\s+\\w+\\s+Fund):/g);\n            if (!fundMatches || fundMatches.length < 2) return null;\n            const funds = fundMatches.map((f)=>f.replace(\":\", \"\").trim());\n            const periods = [\n                \"365D\",\n                \"2Y\",\n                \"3Y\"\n            ];\n            const colors = [\n                \"#3b82f6\",\n                \"#10b981\",\n                \"#f59e0b\"\n            ];\n            const datasets = funds.map((fund, index)=>{\n                const data = [];\n                periods.forEach((period)=>{\n                    const regex = new RegExp(\"\".concat(period, \":\\\\s*(\\\\d+\\\\.?\\\\d*)%\"));\n                    const match = content.match(regex);\n                    data.push(match ? parseFloat(match[1]) : 0);\n                });\n                return {\n                    label: fund,\n                    data,\n                    color: colors[index] || \"#6b7280\"\n                };\n            });\n            const chartData = {\n                labels: periods,\n                datasets\n            };\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChartComponent__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    title: \"Multi-Period Performance Analysis\",\n                    data: chartData,\n                    type: \"bar\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                    lineNumber: 148,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                lineNumber: 147,\n                columnNumber: 9\n            }, undefined);\n        } catch (error) {\n            console.error(\"Error rendering performance chart:\", error);\n        }\n        return null;\n    };\n    // Function to render beautiful fund recommendation cards and clean the content\n    const renderRecommendationChart = (content)=>{\n        console.log(\"\\uD83D\\uDD0D Full content received length:\", content.length);\n        try {\n            // Clean the content first - remove extra whitespace and normalize\n            const cleanContent = content.trim().replace(/\\s+/g, \" \");\n            console.log(\"\\uD83D\\uDD0D Cleaned content sample:\", cleanContent.substring(0, 200) + \"...\");\n            let toolData = null;\n            let jsonStartIndex = -1;\n            let jsonEndIndex = -1;\n            // Strategy 1: Find JSON starting with {\"type\": \"recommendation\"\n            const startIndex = cleanContent.indexOf('{\"type\": \"recommendation\"');\n            if (startIndex !== -1) {\n                console.log(\"\\uD83D\\uDD0D Found JSON start at position:\", startIndex);\n                jsonStartIndex = startIndex;\n                // Find the end of this JSON object by counting braces\n                let braceCount = 0;\n                let endIndex = startIndex;\n                let inString = false;\n                let escapeNext = false;\n                for(let i = startIndex; i < cleanContent.length; i++){\n                    const char = cleanContent[i];\n                    if (escapeNext) {\n                        escapeNext = false;\n                        continue;\n                    }\n                    if (char === \"\\\\\") {\n                        escapeNext = true;\n                        continue;\n                    }\n                    if (char === '\"' && !escapeNext) {\n                        inString = !inString;\n                        continue;\n                    }\n                    if (!inString) {\n                        if (char === \"{\") {\n                            braceCount++;\n                        } else if (char === \"}\") {\n                            braceCount--;\n                            if (braceCount === 0) {\n                                endIndex = i + 1;\n                                jsonEndIndex = endIndex;\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (braceCount === 0 && endIndex > startIndex) {\n                    const jsonString = cleanContent.substring(startIndex, endIndex);\n                    console.log(\"\\uD83D\\uDD0D Extracted JSON string length:\", jsonString.length);\n                    console.log(\"\\uD83D\\uDD0D JSON string preview:\", jsonString.substring(0, 100) + \"...\");\n                    try {\n                        toolData = JSON.parse(jsonString);\n                        console.log(\"✅ Successfully parsed JSON:\", toolData);\n                    } catch (parseError) {\n                        console.log(\"❌ JSON parse error:\", parseError);\n                        console.log(\"❌ Problematic JSON:\", jsonString.substring(0, 500));\n                    }\n                }\n            }\n            // Strategy 2: Manual extraction if JSON parsing fails\n            if (!toolData) {\n                console.log(\"\\uD83D\\uDD0D Trying manual extraction...\");\n                // Look for fund data patterns in the text\n                const fundPattern = /JBS\\s+([^:]+):\\s*NAV\\s*PKR\\s*([\\d.]+),\\s*1Y\\s*Return\\s*([\\d.]+)%/g;\n                const funds = [];\n                let match;\n                while((match = fundPattern.exec(content)) !== null){\n                    const [, name, nav, returnValue] = match;\n                    funds.push({\n                        name: \"JBS \".concat(name.trim(), \" Fund\"),\n                        nav: parseFloat(nav),\n                        performance: {\n                            return_365d: parseFloat(returnValue),\n                            return_ytd: 0\n                        },\n                        fees: {\n                            expense_ratio: 2.0,\n                            management_fee: 1.5\n                        },\n                        details: {\n                            risk_profile: \"High\"\n                        }\n                    });\n                }\n                if (funds.length > 0) {\n                    console.log(\"✅ Manual extraction successful:\", funds);\n                    toolData = {\n                        type: \"recommendation\",\n                        recommended_funds: funds\n                    };\n                }\n            }\n            // If we found valid data, render the chart and return clean content\n            if (toolData && toolData.recommended_funds && Array.isArray(toolData.recommended_funds)) {\n                console.log(\"✅ Rendering chart with\", toolData.recommended_funds.length, \"funds\");\n                // Remove the JSON from the original content\n                let cleanTextContent = content;\n                if (jsonStartIndex !== -1 && jsonEndIndex !== -1) {\n                    cleanTextContent = content.substring(0, jsonStartIndex).trim();\n                    console.log(\"\\uD83E\\uDDF9 Cleaned text content (removed JSON)\");\n                }\n                return {\n                    chart: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CompactChart__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            funds: toolData.recommended_funds,\n                            title: \"\\uD83D\\uDCCA Fund Performance\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 284,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 13\n                    }, undefined),\n                    cleanContent: cleanTextContent\n                };\n            } else {\n                console.log(\"❌ No valid tool data found\");\n                return {\n                    chart: null,\n                    cleanContent: content\n                };\n            }\n            // Fallback: Extract fund data from text content\n            const lines = content.split(\"\\n\");\n            const funds = [];\n            let currentFund = {};\n            lines.forEach((line)=>{\n                const fundMatch = line.match(/^\\d+\\.\\s*(.+?)$/);\n                if (fundMatch) {\n                    if (currentFund.name) {\n                        funds.push(currentFund);\n                    }\n                    currentFund = {\n                        name: fundMatch[1].replace(/\\*\\*/g, \"\"),\n                        performance: {},\n                        fees: {},\n                        details: {\n                            risk_profile: \"High\"\n                        }\n                    };\n                }\n                const navMatch = line.match(/NAV:\\s*PKR\\s*(\\d+\\.?\\d*)/);\n                if (navMatch) {\n                    currentFund.nav = parseFloat(navMatch[1]);\n                }\n                const returnMatch = line.match(/365D Return:\\s*(\\d+\\.?\\d*)%/);\n                if (returnMatch) {\n                    currentFund.performance.return_365d = parseFloat(returnMatch[1]);\n                }\n                const expenseMatch = line.match(/Expense Ratio:\\s*(\\d+\\.?\\d*)%/);\n                if (expenseMatch) {\n                    currentFund.fees.expense_ratio = parseFloat(expenseMatch[1]);\n                }\n            });\n            if (currentFund.name) {\n                funds.push(currentFund);\n            }\n            if (funds.length >= 2) {\n                return {\n                    chart: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CompactChart__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            funds: funds,\n                            title: \"\\uD83D\\uDCCA Fund Performance\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 340,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 339,\n                        columnNumber: 13\n                    }, undefined),\n                    cleanContent: content.split(\"\\n\").slice(0, -5).join(\"\\n\").trim() // Remove last few lines with fund details\n                };\n            }\n        } catch (error) {\n            console.error(\"Error rendering recommendation chart:\", error);\n        }\n        return {\n            chart: null,\n            cleanContent: content\n        };\n    };\n    // Function to render market insights\n    const renderMarketInsights = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"market_insights\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.insights && toolData.insights.top_performers) {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FundGrid__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            funds: toolData.insights.top_performers.map((fund)=>({\n                                    name: fund.name,\n                                    nav: fund.nav,\n                                    performance: {\n                                        return_365d: fund.return_365d\n                                    },\n                                    fees: {\n                                        expense_ratio: fund.expense_ratio\n                                    },\n                                    details: {\n                                        risk_profile: fund.risk_profile\n                                    }\n                                })),\n                            title: \"\\uD83D\\uDCCA Top Performing Funds\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 364,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 363,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error rendering market insights:\", error);\n        }\n        return null;\n    };\n    // Function to render consistency analysis\n    const renderConsistencyAnalysis = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"consistency_analysis\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.consistency_ranking) {\n                    // Convert to SimpleChart format\n                    const funds = toolData.consistency_ranking.map((fund)=>({\n                            name: fund.fund_name,\n                            nav: 100,\n                            performance: {\n                                return_365d: fund.consistency_score * 100 // Convert to percentage\n                            },\n                            fees: {\n                                expense_ratio: 2.0\n                            },\n                            details: {\n                                risk_profile: \"High\"\n                            }\n                        }));\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SimpleChart__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            funds: funds,\n                            title: \"\\uD83C\\uDFAF Fund Consistency Scores\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 404,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 403,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error rendering consistency analysis:\", error);\n        }\n        return null;\n    };\n    // Function to render correlation analysis\n    const renderCorrelationAnalysis = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"correlation_analysis\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.correlation_matrix) {\n                    // Convert to SimpleChart format\n                    const funds = toolData.correlation_matrix.map((item, index)=>({\n                            name: \"\".concat(item.fund1, \" vs \").concat(item.fund2),\n                            nav: 100,\n                            performance: {\n                                return_365d: Math.abs(item.correlation) * 100 // Convert correlation to percentage\n                            },\n                            fees: {\n                                expense_ratio: 2.0\n                            },\n                            details: {\n                                risk_profile: \"Medium\"\n                            }\n                        }));\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SimpleChart__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            funds: funds,\n                            title: \"\\uD83D\\uDCCA Fund Correlation Matrix\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 438,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error rendering correlation analysis:\", error);\n        }\n        return null;\n    };\n    // Function to render portfolio allocation\n    const renderPortfolioAllocation = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"portfolio\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                console.log(\"Portfolio data:\", toolData);\n                if (toolData.allocation && Array.isArray(toolData.allocation)) {\n                    // Convert to SimpleChart format with correct data mapping\n                    const funds = toolData.allocation.map((item)=>({\n                            name: item.fund_name || \"Unknown Fund\",\n                            nav: parseFloat(item.nav) || 100,\n                            performance: {\n                                return_365d: parseFloat(item.percentage) || 0 // Use percentage as performance metric\n                            },\n                            fees: {\n                                expense_ratio: parseFloat(item.expense_ratio) || 2.0\n                            },\n                            details: {\n                                risk_profile: item.risk_category || \"Medium\",\n                                amount: item.amount || 0,\n                                rationale: item.rationale || \"\"\n                            }\n                        }));\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 max-w-sm\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SimpleChart__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            funds: funds,\n                            title: toolData.title || \"Portfolio Allocation\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 478,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 477,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error rendering portfolio allocation:\", error);\n        }\n        return null;\n    };\n    // Function to render smart recommendation chart\n    const renderSmartRecommendationChart = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"smart_recommendation\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                if (toolData.recommendations && Array.isArray(toolData.recommendations)) {\n                    // Convert recommendations to fund format for FundGrid\n                    const funds = toolData.recommendations.map((rec)=>({\n                            name: rec.fund.name,\n                            nav: parseFloat(rec.fund.nav) || 0,\n                            performance: {\n                                return_365d: parseFloat(rec.fund.return_365d) || 0,\n                                return_ytd: parseFloat(rec.fund.return_ytd) || 0\n                            },\n                            fees: {\n                                expense_ratio: parseFloat(rec.fund.expense_ratio) || 0,\n                                management_fee: parseFloat(rec.fund.management_fee) || 0\n                            },\n                            details: {\n                                risk_profile: rec.fund.risk_profile || \"Medium\"\n                            }\n                        }));\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FundGrid__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            funds: funds,\n                            title: toolData.title || \"Smart Fund Recommendations\",\n                            className: \"w-full max-w-full\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                            lineNumber: 518,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 517,\n                        columnNumber: 13\n                    }, undefined);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error rendering smart recommendation chart:\", error);\n        }\n        return null;\n    };\n    // Function to render lead collection form\n    const renderLeadCollectionForm = (content)=>{\n        try {\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"lead_collection\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const toolData = JSON.parse(jsonMatch[0]);\n                const handleSubmit = async (formData)=>{\n                    if (onSendMessage) {\n                        onSendMessage(\"LEAD_SUBMIT: \".concat(JSON.stringify(formData)));\n                    }\n                };\n                const handleDecline = ()=>{\n                    if (onSendMessage) {\n                        onSendMessage(\"LEAD_DECLINE\");\n                    }\n                };\n                const handleClose = ()=>{\n                    if (onSendMessage) {\n                        onSendMessage(\"LEAD_CLOSE\");\n                    }\n                };\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 w-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LeadCollectionForm__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        title: toolData.title,\n                        description: toolData.description,\n                        formFields: toolData.form_fields,\n                        submitText: toolData.submit_text,\n                        privacyNote: toolData.privacy_note,\n                        declineOption: toolData.decline_option,\n                        onSubmit: handleSubmit,\n                        onDecline: handleDecline,\n                        onClose: handleClose\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 560,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                    lineNumber: 559,\n                    columnNumber: 11\n                }, undefined);\n            }\n        } catch (error) {\n            console.error(\"Error rendering lead collection form:\", error);\n        }\n        return null;\n    };\n    // Function to clean content by removing JSON data and detailed listings\n    const cleanContentFromJson = (content, responseType)=>{\n        try {\n            // Find JSON object in the content\n            const jsonMatch = content.match(/\\{[\\s\\S]*\"type\":\\s*\"[^\"]+\"[\\s\\S]*\\}/);\n            if (jsonMatch) {\n                const beforeJson = content.substring(0, content.indexOf(jsonMatch[0])).trim();\n                // For recommendation types, always return minimal text regardless of beforeJson\n                if (responseType === \"recommendation\" || responseType === \"smart_recommendation\") {\n                    return responseType === \"recommendation\" ? \"Fund recommendations\" : \"Personalized fund recommendations\";\n                }\n                // Create simplified content based on response type\n                if (responseType === \"comparison\") {\n                    return \"Performance comparison\";\n                } else if (responseType === \"performance_analysis\") {\n                    return \"Performance analysis\";\n                } else if (responseType === \"portfolio\") {\n                    return \"Portfolio allocation\";\n                } else if (responseType === \"market_insights\") {\n                    return \"Market insights\";\n                } else if (responseType === \"lead_collection\") {\n                    return \"Would you like to connect with our investment experts?\";\n                } else if (responseType === \"lead_submitted\") {\n                    return \"Thank you for your interest!\";\n                } else if (responseType === \"lead_declined\") {\n                    return \"No problem at all!\";\n                } else if (responseType === \"lead_collection_declined\") {\n                    return \"I understand your preference.\";\n                } else if (responseType === \"lead_already_submitted\") {\n                    return \"Thank you for your previous submission.\";\n                } else {\n                    // For other types, return the text before JSON or a generic message\n                    return beforeJson || \"Here are your results\";\n                }\n            }\n        } catch (error) {\n            console.error(\"Error cleaning content:\", error);\n        }\n        return content;\n    };\n    // Check if this is a recommendation response and get clean content\n    const recommendationResult = message.response_type === \"recommendation\" ? renderRecommendationChart(message.content) : null;\n    // Clean content for all response types that have JSON data\n    const shouldCleanContent = [\n        \"recommendation\",\n        \"performance_analysis\",\n        \"market_insights\",\n        \"consistency_analysis\",\n        \"correlation_analysis\",\n        \"portfolio\",\n        \"comparison\",\n        \"smart_recommendation\",\n        \"lead_collection\",\n        \"lead_submitted\",\n        \"lead_declined\",\n        \"lead_collection_declined\",\n        \"lead_already_submitted\"\n    ].includes(message.response_type || \"\");\n    // For educational responses, extract and show only the educational content without charts\n    const displayContent = message.response_type === \"education\" ? extractEducationalContent(message.content) : (recommendationResult === null || recommendationResult === void 0 ? void 0 : recommendationResult.cleanContent) || (shouldCleanContent ? cleanContentFromJson(message.content, message.response_type || \"\") : message.content);\n    const recommendationChart = (recommendationResult === null || recommendationResult === void 0 ? void 0 : recommendationResult.chart) || null;\n    const formatTime = (timestamp)=>{\n        return new Intl.DateTimeFormat(\"en-US\", {\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            hour12: true\n        }).format(new Date(timestamp));\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n        initial: {\n            opacity: 0,\n            y: 20,\n            scale: 0.95\n        },\n        animate: {\n            opacity: 1,\n            y: 0,\n            scale: 1\n        },\n        transition: {\n            duration: 0.3,\n            ease: \"easeOut\"\n        },\n        className: \"flex items-start gap-2 mb-3 \".concat(isUser ? \"flex-row-reverse\" : \"flex-row\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"\\n        flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-medium\\n        \".concat(isUser ? \"bg-primary-500\" : \"bg-gradient-to-br from-emerald-500 to-emerald-600\", \"\\n      \"),\n                children: isUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_User_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                    size: 14\n                }, void 0, false, {\n                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 19\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_User_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                    size: 14\n                }, void 0, false, {\n                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                    lineNumber: 662,\n                    columnNumber: 40\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                lineNumber: 655,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col \".concat(isUser ? \"items-end\" : \"items-start\", \" max-w-[85%]\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"\\n          chat-message relative max-w-[280px]\\n          \".concat(isUser ? \"chat-message-user\" : \"chat-message-assistant\", \"\\n        \"),\n                        children: isAssistant ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: message.response_type === \"quiz\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-1 max-w-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RiskProfileMCQ__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    onComplete: (profileData)=>{\n                                        // Send the profile data back to the chat without showing completion text\n                                        const profileSummary = \"Risk Profile Complete: \".concat(profileData.riskTolerance, \" risk tolerance, \").concat(profileData.experience, \" experience, \").concat(profileData.timeHorizon, \" horizon, goals: \").concat(profileData.financialGoals.join(\", \"));\n                                        console.log(\"✅ Profile completed successfully:\", profileData);\n                                        // Send the profile summary back to the chat for processing\n                                        if (onSendMessage) {\n                                            onSendMessage(profileSummary);\n                                        } else {\n                                            console.error(\"❌ Cannot send message - onSendMessage not provided\");\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                lineNumber: 679,\n                                columnNumber: 17\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_12__.Markdown, {\n                                        className: \"prose prose-sm max-w-none\",\n                                        components: {\n                                            p: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mb-2 last:mb-0\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 700,\n                                                    columnNumber: 44\n                                                }, void 0);\n                                            },\n                                            ul: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                    className: \"list-disc list-inside mb-2 space-y-1\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 701,\n                                                    columnNumber: 45\n                                                }, void 0);\n                                            },\n                                            ol: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                                                    className: \"list-decimal list-inside mb-2 space-y-1\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 702,\n                                                    columnNumber: 45\n                                                }, void 0);\n                                            },\n                                            li: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    className: \"text-sm\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 703,\n                                                    columnNumber: 45\n                                                }, void 0);\n                                            },\n                                            strong: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                    className: \"font-semibold text-gray-900\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 704,\n                                                    columnNumber: 49\n                                                }, void 0);\n                                            },\n                                            em: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"em\", {\n                                                    className: \"italic\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 705,\n                                                    columnNumber: 45\n                                                }, void 0);\n                                            },\n                                            code: (param)=>{\n                                                let { children } = param;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                                    className: \"px-1 py-0.5 bg-gray-100 rounded text-xs font-mono\",\n                                                    children: children\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                                    lineNumber: 707,\n                                                    columnNumber: 25\n                                                }, void 0);\n                                            }\n                                        },\n                                        children: displayContent\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                        lineNumber: 697,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    message.response_type === \"comparison\" && renderComparisonChart(message.content),\n                                    message.response_type === \"performance_analysis\" && renderPerformanceChart(message.content),\n                                    message.response_type === \"recommendation\" && recommendationChart,\n                                    message.response_type === \"smart_recommendation\" && renderSmartRecommendationChart(message.content),\n                                    message.response_type === \"market_insights\" && renderMarketInsights(message.content),\n                                    message.response_type === \"consistency_analysis\" && renderConsistencyAnalysis(message.content),\n                                    message.response_type === \"correlation_analysis\" && renderCorrelationAnalysis(message.content),\n                                    message.response_type === \"portfolio\" && renderPortfolioAllocation(message.content),\n                                    message.response_type === \"lead_collection\" && renderLeadCollectionForm(message.content)\n                                ]\n                            }, void 0, true)\n                        }, void 0, false) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: !message.content.startsWith(\"Risk Profile Complete:\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"whitespace-pre-wrap\",\n                                children: message.content\n                            }, void 0, false, {\n                                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                lineNumber: 733,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 668,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-500 mt-1 \".concat(isUser ? \"text-right\" : \"text-left\"),\n                        children: [\n                            formatTime(message.timestamp),\n                            message.response_type && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs\",\n                                children: message.response_type\n                            }, void 0, false, {\n                                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                                lineNumber: 743,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                        lineNumber: 740,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n                lineNumber: 666,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\AMC_Chatbot\\\\front-end\\\\src\\\\components\\\\ChatWidget\\\\MessageBubble.tsx\",\n        lineNumber: 648,\n        columnNumber: 5\n    }, undefined);\n};\n_c = MessageBubble;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MessageBubble);\nvar _c;\n$RefreshReg$(_c, \"MessageBubble\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NoYXRXaWRnZXQvTWVzc2FnZUJ1YmJsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUV3QztBQUNEO0FBRUU7QUFDRTtBQUNHO0FBQ0E7QUFDUjtBQUNKO0FBQ007QUFDRTtBQUNZO0FBUXRELE1BQU1ZLGdCQUE4QztRQUFDLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxLQUFLLEVBQUVDLGFBQWEsRUFBRTtJQUMvRixNQUFNQyxTQUFTSCxRQUFRSSxJQUFJLEtBQUs7SUFDaEMsTUFBTUMsY0FBY0wsUUFBUUksSUFBSSxLQUFLO0lBRXJDLGlEQUFpRDtJQUNqRCxNQUFNRSx3QkFBd0IsQ0FBQ0M7UUFDN0IsSUFBSTtZQUNGLGlFQUFpRTtZQUNqRSxNQUFNQyxZQUFZRCxRQUFRRSxLQUFLLENBQUM7WUFDaEMsSUFBSUQsV0FBVztnQkFDYixNQUFNRSxXQUFXQyxLQUFLQyxLQUFLLENBQUNKLFNBQVMsQ0FBQyxFQUFFO2dCQUN4QyxJQUFJRSxTQUFTRyxJQUFJLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0wsU0FBU0csSUFBSSxHQUFHO29CQUNqRCx5Q0FBeUM7b0JBQ3pDLE1BQU1HLFlBQVlOLFNBQVNHLElBQUksQ0FBQyxFQUFFO29CQUNsQyxNQUFNSSxTQUFTQyxPQUFPQyxJQUFJLENBQUNILFdBQVdJLElBQUksQ0FBQ0MsQ0FBQUEsTUFBT0EsUUFBUSxnQkFBZ0I7b0JBRTFFLHFCQUNFLDhEQUFDQzt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQzdCLG1EQUFVQTs0QkFDVDhCLE9BQU9kLFNBQVNjLEtBQUssSUFBSTs0QkFDekJYLE1BQU1ILFNBQVNHLElBQUk7NEJBQ25CSSxRQUFRQTs0QkFDUk0sV0FBVTs7Ozs7Ozs7Ozs7Z0JBSWxCO1lBQ0Y7WUFFQSxnREFBZ0Q7WUFDaEQsTUFBTUUsUUFBUWxCLFFBQVFtQixLQUFLLENBQUM7WUFDNUIsTUFBTUMsV0FBb0QsRUFBRTtZQUM1RCxJQUFJ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QUFDc0wsVUFBVSxDQUFDLDJDQUMzQiw4REFBQzNJO2dDQUFFM0IsV0FBVTswQ0FBdUJ2QixRQUFRTyxPQUFPOzs7Ozs7Ozs7Ozs7a0NBTzNELDhEQUFDZTt3QkFBSUMsV0FBVyw4QkFBa0UsT0FBcENwQixTQUFTLGVBQWU7OzRCQUNuRXlKLFdBQVc1SixRQUFRNkosU0FBUzs0QkFDNUI3SixRQUFRc0osYUFBYSxrQkFDcEIsOERBQUN3QztnQ0FBS3ZLLFdBQVU7MENBQ2J2QixRQUFRc0osYUFBYTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3BDO0tBenRCTXZKO0FBMnRCTiwrREFBZUEsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9DaGF0V2lkZ2V0L01lc3NhZ2VCdWJibGUudHN4PzhhYTQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IENoYXRNZXNzYWdlIH0gZnJvbSAnQC90eXBlcy9jaGF0JztcbmltcG9ydCB7IEJvdCwgVXNlciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tICdyZWFjdC1tYXJrZG93bic7XG5pbXBvcnQgUmlza1Byb2ZpbGVNQ1EgZnJvbSAnLi9SaXNrUHJvZmlsZU1DUSc7XG5pbXBvcnQgQ2hhcnRDb21wb25lbnQgZnJvbSAnLi9DaGFydENvbXBvbmVudCc7XG5pbXBvcnQgR2FudHRDaGFydCBmcm9tICcuL0dhbnR0Q2hhcnQnO1xuaW1wb3J0IEZ1bmRHcmlkIGZyb20gJy4vRnVuZEdyaWQnO1xuaW1wb3J0IFNpbXBsZUNoYXJ0IGZyb20gJy4vU2ltcGxlQ2hhcnQnO1xuaW1wb3J0IENvbXBhY3RDaGFydCBmcm9tICcuL0NvbXBhY3RDaGFydCc7XG5pbXBvcnQgTGVhZENvbGxlY3Rpb25Gb3JtIGZyb20gJy4vTGVhZENvbGxlY3Rpb25Gb3JtJztcblxuaW50ZXJmYWNlIE1lc3NhZ2VCdWJibGVQcm9wcyB7XG4gIG1lc3NhZ2U6IENoYXRNZXNzYWdlO1xuICBpc0xhdGVzdD86IGJvb2xlYW47XG4gIG9uU2VuZE1lc3NhZ2U/OiAoY29udGVudDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5jb25zdCBNZXNzYWdlQnViYmxlOiBSZWFjdC5GQzxNZXNzYWdlQnViYmxlUHJvcHM+ID0gKHsgbWVzc2FnZSwgaXNMYXRlc3QgPSBmYWxzZSwgb25TZW5kTWVzc2FnZSB9KSA9PiB7XG4gIGNvbnN0IGlzVXNlciA9IG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInO1xuICBjb25zdCBpc0Fzc2lzdGFudCA9IG1lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCc7XG5cbiAgLy8gRnVuY3Rpb24gdG8gcGFyc2UgYW5kIHJlbmRlciBjb21wYXJpc29uIGNoYXJ0c1xuICBjb25zdCByZW5kZXJDb21wYXJpc29uQ2hhcnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSB0byBleHRyYWN0IHN0cnVjdHVyZWQgZGF0YSBmaXJzdCAoZnJvbSB0b29sIEpTT04gcmVzcG9uc2UpXG4gICAgICBjb25zdCBqc29uTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9cXHtbXFxzXFxTXSpcInR5cGVcIjpcXHMqXCJjb21wYXJpc29uXCJbXFxzXFxTXSpcXH0vKTtcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7XG4gICAgICAgIGlmICh0b29sRGF0YS5kYXRhICYmIEFycmF5LmlzQXJyYXkodG9vbERhdGEuZGF0YSkpIHtcbiAgICAgICAgICAvLyBFeHRyYWN0IG1ldHJpYyBmcm9tIHRoZSBkYXRhIHN0cnVjdHVyZVxuICAgICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9IHRvb2xEYXRhLmRhdGFbMF07XG4gICAgICAgICAgY29uc3QgbWV0cmljID0gT2JqZWN0LmtleXMoZmlyc3RJdGVtKS5maW5kKGtleSA9PiBrZXkgIT09ICdGdW5kIE5hbWUnKSB8fCAnUGVyZm9ybWFuY2UnO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgdy1mdWxsXCI+XG4gICAgICAgICAgICAgIDxHYW50dENoYXJ0XG4gICAgICAgICAgICAgICAgdGl0bGU9e3Rvb2xEYXRhLnRpdGxlIHx8IFwiRnVuZCBQZXJmb3JtYW5jZSBDb21wYXJpc29uXCJ9XG4gICAgICAgICAgICAgICAgZGF0YT17dG9vbERhdGEuZGF0YX1cbiAgICAgICAgICAgICAgICBtZXRyaWM9e21ldHJpY31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctZnVsbFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZhbGxiYWNrOiBFeHRyYWN0IGZ1bmQgZGF0YSBmcm9tIHRleHQgY29udGVudFxuICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgIGNvbnN0IGZ1bmREYXRhOiBBcnJheTx7W2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyfT4gPSBbXTtcbiAgICAgIGxldCBtZXRyaWMgPSAnMzY1RCBSZXR1cm4nO1xuICAgICAgXG4gICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goLyguKz8pOlxccyooXFxkK1xcLj9cXGQqKSUvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgWywgZnVuZE5hbWUsIHZhbHVlXSA9IG1hdGNoO1xuICAgICAgICAgIGZ1bmREYXRhLnB1c2goe1xuICAgICAgICAgICAgJ0Z1bmQgTmFtZSc6IGZ1bmROYW1lLnRyaW0oKSxcbiAgICAgICAgICAgIFttZXRyaWNdOiBwYXJzZUZsb2F0KHZhbHVlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGZ1bmREYXRhLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHctZnVsbFwiPlxuICAgICAgICAgICAgPEdhbnR0Q2hhcnRcbiAgICAgICAgICAgICAgdGl0bGU9XCJGdW5kIFBlcmZvcm1hbmNlIENvbXBhcmlzb25cIlxuICAgICAgICAgICAgICBkYXRhPXtmdW5kRGF0YSBhcyBhbnl9XG4gICAgICAgICAgICAgIG1ldHJpYz17bWV0cmljfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctZnVsbFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgY29tcGFyaXNvbiBjaGFydDonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlbmRlciBwZXJmb3JtYW5jZSBhbmFseXNpcyBjaGFydHNcbiAgY29uc3QgcmVuZGVyUGVyZm9ybWFuY2VDaGFydCA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHRvIGV4dHJhY3Qgc3RydWN0dXJlZCBkYXRhIGZpcnN0IChmcm9tIHRvb2wgSlNPTiByZXNwb25zZSlcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlwidHlwZVwiOlxccypcInBlcmZvcm1hbmNlX2FuYWx5c2lzXCJbXFxzXFxTXSpcXH0vKTtcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7XG4gICAgICAgIGlmICh0b29sRGF0YS5jaGFydF9kYXRhICYmIHRvb2xEYXRhLmNoYXJ0X2RhdGEuc2VyaWVzKSB7XG4gICAgICAgICAgY29uc3QgcGVyaW9kcyA9IEFycmF5LmlzQXJyYXkodG9vbERhdGEuY2hhcnRfZGF0YS54QXhpcykgPyB0b29sRGF0YS5jaGFydF9kYXRhLnhBeGlzIDogW107XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgPENoYXJ0Q29tcG9uZW50XG4gICAgICAgICAgICAgICAgdGl0bGU9e3Rvb2xEYXRhLnRpdGxlIHx8IFwiUGVyZm9ybWFuY2UgQW5hbHlzaXNcIn1cbiAgICAgICAgICAgICAgICBkYXRhPXt7XG4gICAgICAgICAgICAgICAgICBsYWJlbHM6IHBlcmlvZHMsXG4gICAgICAgICAgICAgICAgICBkYXRhc2V0czogdG9vbERhdGEuY2hhcnRfZGF0YS5zZXJpZXMubWFwKChmdW5kOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmdW5kLmZ1bmRfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcGVyaW9kcy5tYXAoKHA6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdyA9IChmdW5kIGFzIGFueSlbcF07XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID0gdHlwZW9mIHJhdyA9PT0gJ251bWJlcicgPyByYXcgOiBwYXJzZUZsb2F0KFN0cmluZyhyYXcpKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4obnVtKSA/IDAgOiBudW07XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogWycjM2I4MmY2JywgJyMxMGI5ODEnLCAnI2Y1OWUwYicsICcjZWY0NDQ0JywgJyM4YjVjZjYnXVtpbmRleF0gfHwgJyM2YjcyODAnXG4gICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHR5cGU9XCJiYXJcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1mdWxsXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRmFsbGJhY2s6IEV4dHJhY3QgbXVsdGktcGVyaW9kIHBlcmZvcm1hbmNlIGRhdGEgZnJvbSB0ZXh0XG4gICAgICBjb25zdCBmdW5kTWF0Y2hlcyA9IGNvbnRlbnQubWF0Y2goLyhcXHcrXFxzK1xcdytcXHMrRnVuZCk6L2cpO1xuICAgICAgaWYgKCFmdW5kTWF0Y2hlcyB8fCBmdW5kTWF0Y2hlcy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3QgZnVuZHMgPSBmdW5kTWF0Y2hlcy5tYXAoZiA9PiBmLnJlcGxhY2UoJzonLCAnJykudHJpbSgpKTtcbiAgICAgIGNvbnN0IHBlcmlvZHMgPSBbJzM2NUQnLCAnMlknLCAnM1knXTtcbiAgICAgIGNvbnN0IGNvbG9ycyA9IFsnIzNiODJmNicsICcjMTBiOTgxJywgJyNmNTllMGInXTtcbiAgICAgIFxuICAgICAgY29uc3QgZGF0YXNldHMgPSBmdW5kcy5tYXAoKGZ1bmQsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGE6IG51bWJlcltdID0gW107XG4gICAgICAgIHBlcmlvZHMuZm9yRWFjaChwZXJpb2QgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgJHtwZXJpb2R9OlxcXFxzKihcXFxcZCtcXFxcLj9cXFxcZCopJWApO1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gY29udGVudC5tYXRjaChyZWdleCk7XG4gICAgICAgICAgZGF0YS5wdXNoKG1hdGNoID8gcGFyc2VGbG9hdChtYXRjaFsxXSkgOiAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhYmVsOiBmdW5kLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY29sb3I6IGNvbG9yc1tpbmRleF0gfHwgJyM2YjcyODAnXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY2hhcnREYXRhID0ge1xuICAgICAgICBsYWJlbHM6IHBlcmlvZHMsXG4gICAgICAgIGRhdGFzZXRzXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICA8Q2hhcnRDb21wb25lbnRcbiAgICAgICAgICAgIHRpdGxlPVwiTXVsdGktUGVyaW9kIFBlcmZvcm1hbmNlIEFuYWx5c2lzXCJcbiAgICAgICAgICAgIGRhdGE9e2NoYXJ0RGF0YX1cbiAgICAgICAgICAgIHR5cGU9XCJiYXJcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVuZGVyaW5nIHBlcmZvcm1hbmNlIGNoYXJ0OicsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVuZGVyIGJlYXV0aWZ1bCBmdW5kIHJlY29tbWVuZGF0aW9uIGNhcmRzIGFuZCBjbGVhbiB0aGUgY29udGVudFxuICBjb25zdCByZW5kZXJSZWNvbW1lbmRhdGlvbkNoYXJ0ID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIEZ1bGwgY29udGVudCByZWNlaXZlZCBsZW5ndGg6JywgY29udGVudC5sZW5ndGgpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDbGVhbiB0aGUgY29udGVudCBmaXJzdCAtIHJlbW92ZSBleHRyYSB3aGl0ZXNwYWNlIGFuZCBub3JtYWxpemVcbiAgICAgIGNvbnN0IGNsZWFuQ29udGVudCA9IGNvbnRlbnQudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIENsZWFuZWQgY29udGVudCBzYW1wbGU6JywgY2xlYW5Db250ZW50LnN1YnN0cmluZygwLCAyMDApICsgJy4uLicpO1xuICAgICAgXG4gICAgICBsZXQgdG9vbERhdGEgPSBudWxsO1xuICAgICAgbGV0IGpzb25TdGFydEluZGV4ID0gLTE7XG4gICAgICBsZXQganNvbkVuZEluZGV4ID0gLTE7XG4gICAgICBcbiAgICAgIC8vIFN0cmF0ZWd5IDE6IEZpbmQgSlNPTiBzdGFydGluZyB3aXRoIHtcInR5cGVcIjogXCJyZWNvbW1lbmRhdGlvblwiXG4gICAgICBjb25zdCBzdGFydEluZGV4ID0gY2xlYW5Db250ZW50LmluZGV4T2YoJ3tcInR5cGVcIjogXCJyZWNvbW1lbmRhdGlvblwiJyk7XG4gICAgICBpZiAoc3RhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRm91bmQgSlNPTiBzdGFydCBhdCBwb3NpdGlvbjonLCBzdGFydEluZGV4KTtcbiAgICAgICAganNvblN0YXJ0SW5kZXggPSBzdGFydEluZGV4O1xuICAgICAgICBcbiAgICAgICAgLy8gRmluZCB0aGUgZW5kIG9mIHRoaXMgSlNPTiBvYmplY3QgYnkgY291bnRpbmcgYnJhY2VzXG4gICAgICAgIGxldCBicmFjZUNvdW50ID0gMDtcbiAgICAgICAgbGV0IGVuZEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgICAgbGV0IGluU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBlc2NhcGVOZXh0ID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGNsZWFuQ29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoYXIgPSBjbGVhbkNvbnRlbnRbaV07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGVzY2FwZU5leHQpIHtcbiAgICAgICAgICAgIGVzY2FwZU5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBlc2NhcGVOZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY2hhciA9PT0gJ1wiJyAmJiAhZXNjYXBlTmV4dCkge1xuICAgICAgICAgICAgaW5TdHJpbmcgPSAhaW5TdHJpbmc7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFpblN0cmluZykge1xuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICd7Jykge1xuICAgICAgICAgICAgICBicmFjZUNvdW50Kys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICd9Jykge1xuICAgICAgICAgICAgICBicmFjZUNvdW50LS07XG4gICAgICAgICAgICAgIGlmIChicmFjZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZW5kSW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICBqc29uRW5kSW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGJyYWNlQ291bnQgPT09IDAgJiYgZW5kSW5kZXggPiBzdGFydEluZGV4KSB7XG4gICAgICAgICAgY29uc3QganNvblN0cmluZyA9IGNsZWFuQ29udGVudC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEV4dHJhY3RlZCBKU09OIHN0cmluZyBsZW5ndGg6JywganNvblN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEpTT04gc3RyaW5nIHByZXZpZXc6JywganNvblN0cmluZy5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdWNjZXNzZnVsbHkgcGFyc2VkIEpTT046JywgdG9vbERhdGEpO1xuICAgICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgSlNPTiBwYXJzZSBlcnJvcjonLCBwYXJzZUVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwgUHJvYmxlbWF0aWMgSlNPTjonLCBqc29uU3RyaW5nLnN1YnN0cmluZygwLCA1MDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RyYXRlZ3kgMjogTWFudWFsIGV4dHJhY3Rpb24gaWYgSlNPTiBwYXJzaW5nIGZhaWxzXG4gICAgICBpZiAoIXRvb2xEYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFRyeWluZyBtYW51YWwgZXh0cmFjdGlvbi4uLicpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9vayBmb3IgZnVuZCBkYXRhIHBhdHRlcm5zIGluIHRoZSB0ZXh0XG4gICAgICAgIGNvbnN0IGZ1bmRQYXR0ZXJuID0gL0pCU1xccysoW146XSspOlxccypOQVZcXHMqUEtSXFxzKihbXFxkLl0rKSxcXHMqMVlcXHMqUmV0dXJuXFxzKihbXFxkLl0rKSUvZztcbiAgICAgICAgY29uc3QgZnVuZHMgPSBbXTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKChtYXRjaCA9IGZ1bmRQYXR0ZXJuLmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgWywgbmFtZSwgbmF2LCByZXR1cm5WYWx1ZV0gPSBtYXRjaDtcbiAgICAgICAgICBmdW5kcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGBKQlMgJHtuYW1lLnRyaW0oKX0gRnVuZGAsXG4gICAgICAgICAgICBuYXY6IHBhcnNlRmxvYXQobmF2KSxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgICAgIHJldHVybl8zNjVkOiBwYXJzZUZsb2F0KHJldHVyblZhbHVlKSxcbiAgICAgICAgICAgICAgcmV0dXJuX3l0ZDogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZlZXM6IHtcbiAgICAgICAgICAgICAgZXhwZW5zZV9yYXRpbzogMi4wLFxuICAgICAgICAgICAgICBtYW5hZ2VtZW50X2ZlZTogMS41XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgICByaXNrX3Byb2ZpbGU6ICdIaWdoJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZnVuZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgTWFudWFsIGV4dHJhY3Rpb24gc3VjY2Vzc2Z1bDonLCBmdW5kcyk7XG4gICAgICAgICAgdG9vbERhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiAncmVjb21tZW5kYXRpb24nLFxuICAgICAgICAgICAgcmVjb21tZW5kZWRfZnVuZHM6IGZ1bmRzXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiB3ZSBmb3VuZCB2YWxpZCBkYXRhLCByZW5kZXIgdGhlIGNoYXJ0IGFuZCByZXR1cm4gY2xlYW4gY29udGVudFxuICAgICAgaWYgKHRvb2xEYXRhICYmIHRvb2xEYXRhLnJlY29tbWVuZGVkX2Z1bmRzICYmIEFycmF5LmlzQXJyYXkodG9vbERhdGEucmVjb21tZW5kZWRfZnVuZHMpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgUmVuZGVyaW5nIGNoYXJ0IHdpdGgnLCB0b29sRGF0YS5yZWNvbW1lbmRlZF9mdW5kcy5sZW5ndGgsICdmdW5kcycpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBKU09OIGZyb20gdGhlIG9yaWdpbmFsIGNvbnRlbnRcbiAgICAgICAgbGV0IGNsZWFuVGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICBpZiAoanNvblN0YXJ0SW5kZXggIT09IC0xICYmIGpzb25FbmRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBjbGVhblRleHRDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwganNvblN0YXJ0SW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBDbGVhbmVkIHRleHQgY29udGVudCAocmVtb3ZlZCBKU09OKScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNoYXJ0OiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgICAgPENvbXBhY3RDaGFydCBcbiAgICAgICAgICAgICAgICBmdW5kcz17dG9vbERhdGEucmVjb21tZW5kZWRfZnVuZHN9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCLwn5OKIEZ1bmQgUGVyZm9ybWFuY2VcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSxcbiAgICAgICAgICBjbGVhbkNvbnRlbnQ6IGNsZWFuVGV4dENvbnRlbnRcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgTm8gdmFsaWQgdG9vbCBkYXRhIGZvdW5kJyk7XG4gICAgICAgIHJldHVybiB7IGNoYXJ0OiBudWxsLCBjbGVhbkNvbnRlbnQ6IGNvbnRlbnQgfTtcbiAgICAgIH1cblxuICAgICAgLy8gRmFsbGJhY2s6IEV4dHJhY3QgZnVuZCBkYXRhIGZyb20gdGV4dCBjb250ZW50XG4gICAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuICAgICAgY29uc3QgZnVuZHM6IGFueVtdID0gW107XG4gICAgICBsZXQgY3VycmVudEZ1bmQ6IGFueSA9IHt9O1xuICAgICAgXG4gICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICBjb25zdCBmdW5kTWF0Y2ggPSBsaW5lLm1hdGNoKC9eXFxkK1xcLlxccyooLis/KSQvKTtcbiAgICAgICAgaWYgKGZ1bmRNYXRjaCkge1xuICAgICAgICAgIGlmIChjdXJyZW50RnVuZC5uYW1lKSB7XG4gICAgICAgICAgICBmdW5kcy5wdXNoKGN1cnJlbnRGdW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudEZ1bmQgPSB7IFxuICAgICAgICAgICAgbmFtZTogZnVuZE1hdGNoWzFdLnJlcGxhY2UoL1xcKlxcKi9nLCAnJyksXG4gICAgICAgICAgICBwZXJmb3JtYW5jZToge30sXG4gICAgICAgICAgICBmZWVzOiB7fSxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgcmlza19wcm9maWxlOiAnSGlnaCcgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5hdk1hdGNoID0gbGluZS5tYXRjaCgvTkFWOlxccypQS1JcXHMqKFxcZCtcXC4/XFxkKikvKTtcbiAgICAgICAgaWYgKG5hdk1hdGNoKSB7XG4gICAgICAgICAgY3VycmVudEZ1bmQubmF2ID0gcGFyc2VGbG9hdChuYXZNYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJldHVybk1hdGNoID0gbGluZS5tYXRjaCgvMzY1RCBSZXR1cm46XFxzKihcXGQrXFwuP1xcZCopJS8pO1xuICAgICAgICBpZiAocmV0dXJuTWF0Y2gpIHtcbiAgICAgICAgICBjdXJyZW50RnVuZC5wZXJmb3JtYW5jZS5yZXR1cm5fMzY1ZCA9IHBhcnNlRmxvYXQocmV0dXJuTWF0Y2hbMV0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBleHBlbnNlTWF0Y2ggPSBsaW5lLm1hdGNoKC9FeHBlbnNlIFJhdGlvOlxccyooXFxkK1xcLj9cXGQqKSUvKTtcbiAgICAgICAgaWYgKGV4cGVuc2VNYXRjaCkge1xuICAgICAgICAgIGN1cnJlbnRGdW5kLmZlZXMuZXhwZW5zZV9yYXRpbyA9IHBhcnNlRmxvYXQoZXhwZW5zZU1hdGNoWzFdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChjdXJyZW50RnVuZC5uYW1lKSB7XG4gICAgICAgIGZ1bmRzLnB1c2goY3VycmVudEZ1bmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZnVuZHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjaGFydDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICAgIDxDb21wYWN0Q2hhcnQgXG4gICAgICAgICAgICAgICAgZnVuZHM9e2Z1bmRzfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwi8J+TiiBGdW5kIFBlcmZvcm1hbmNlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICksXG4gICAgICAgICAgY2xlYW5Db250ZW50OiBjb250ZW50LnNwbGl0KCdcXG4nKS5zbGljZSgwLCAtNSkuam9pbignXFxuJykudHJpbSgpIC8vIFJlbW92ZSBsYXN0IGZldyBsaW5lcyB3aXRoIGZ1bmQgZGV0YWlsc1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgcmVjb21tZW5kYXRpb24gY2hhcnQ6JywgZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4geyBjaGFydDogbnVsbCwgY2xlYW5Db250ZW50OiBjb250ZW50IH07XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVuZGVyIG1hcmtldCBpbnNpZ2h0c1xuICBjb25zdCByZW5kZXJNYXJrZXRJbnNpZ2h0cyA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QganNvbk1hdGNoID0gY29udGVudC5tYXRjaCgvXFx7W1xcc1xcU10qXCJ0eXBlXCI6XFxzKlwibWFya2V0X2luc2lnaHRzXCJbXFxzXFxTXSpcXH0vKTtcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7XG4gICAgICAgIGlmICh0b29sRGF0YS5pbnNpZ2h0cyAmJiB0b29sRGF0YS5pbnNpZ2h0cy50b3BfcGVyZm9ybWVycykge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgPEZ1bmRHcmlkIFxuICAgICAgICAgICAgICAgIGZ1bmRzPXt0b29sRGF0YS5pbnNpZ2h0cy50b3BfcGVyZm9ybWVycy5tYXAoKGZ1bmQ6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bmQubmFtZSxcbiAgICAgICAgICAgICAgICAgIG5hdjogZnVuZC5uYXYsXG4gICAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZTogeyByZXR1cm5fMzY1ZDogZnVuZC5yZXR1cm5fMzY1ZCB9LFxuICAgICAgICAgICAgICAgICAgZmVlczogeyBleHBlbnNlX3JhdGlvOiBmdW5kLmV4cGVuc2VfcmF0aW8gfSxcbiAgICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgcmlza19wcm9maWxlOiBmdW5kLnJpc2tfcHJvZmlsZSB9XG4gICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgIHRpdGxlPVwi8J+TiiBUb3AgUGVyZm9ybWluZyBGdW5kc1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBtYXJrZXQgaW5zaWdodHM6JywgZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byByZW5kZXIgY29uc2lzdGVuY3kgYW5hbHlzaXNcbiAgY29uc3QgcmVuZGVyQ29uc2lzdGVuY3lBbmFseXNpcyA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QganNvbk1hdGNoID0gY29udGVudC5tYXRjaCgvXFx7W1xcc1xcU10qXCJ0eXBlXCI6XFxzKlwiY29uc2lzdGVuY3lfYW5hbHlzaXNcIltcXHNcXFNdKlxcfS8pO1xuICAgICAgaWYgKGpzb25NYXRjaCkge1xuICAgICAgICBjb25zdCB0b29sRGF0YSA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKTtcbiAgICAgICAgaWYgKHRvb2xEYXRhLmNvbnNpc3RlbmN5X3JhbmtpbmcpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0IHRvIFNpbXBsZUNoYXJ0IGZvcm1hdFxuICAgICAgICAgIGNvbnN0IGZ1bmRzID0gdG9vbERhdGEuY29uc2lzdGVuY3lfcmFua2luZy5tYXAoKGZ1bmQ6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IGZ1bmQuZnVuZF9uYW1lLFxuICAgICAgICAgICAgbmF2OiAxMDAsIC8vIERlZmF1bHQgTkFWXG4gICAgICAgICAgICBwZXJmb3JtYW5jZTogeyBcbiAgICAgICAgICAgICAgcmV0dXJuXzM2NWQ6IGZ1bmQuY29uc2lzdGVuY3lfc2NvcmUgKiAxMDAgLy8gQ29udmVydCB0byBwZXJjZW50YWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmVlczogeyBleHBlbnNlX3JhdGlvOiAyLjAgfSxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgcmlza19wcm9maWxlOiAnSGlnaCcgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgIDxTaW1wbGVDaGFydFxuICAgICAgICAgICAgICAgIGZ1bmRzPXtmdW5kc31cbiAgICAgICAgICAgICAgICB0aXRsZT1cIvCfjq8gRnVuZCBDb25zaXN0ZW5jeSBTY29yZXNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZW5kZXJpbmcgY29uc2lzdGVuY3kgYW5hbHlzaXM6JywgZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byByZW5kZXIgY29ycmVsYXRpb24gYW5hbHlzaXNcbiAgY29uc3QgcmVuZGVyQ29ycmVsYXRpb25BbmFseXNpcyA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QganNvbk1hdGNoID0gY29udGVudC5tYXRjaCgvXFx7W1xcc1xcU10qXCJ0eXBlXCI6XFxzKlwiY29ycmVsYXRpb25fYW5hbHlzaXNcIltcXHNcXFNdKlxcfS8pO1xuICAgICAgaWYgKGpzb25NYXRjaCkge1xuICAgICAgICBjb25zdCB0b29sRGF0YSA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKTtcbiAgICAgICAgaWYgKHRvb2xEYXRhLmNvcnJlbGF0aW9uX21hdHJpeCkge1xuICAgICAgICAgIC8vIENvbnZlcnQgdG8gU2ltcGxlQ2hhcnQgZm9ybWF0XG4gICAgICAgICAgY29uc3QgZnVuZHMgPSB0b29sRGF0YS5jb3JyZWxhdGlvbl9tYXRyaXgubWFwKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBgJHtpdGVtLmZ1bmQxfSB2cyAke2l0ZW0uZnVuZDJ9YCxcbiAgICAgICAgICAgIG5hdjogMTAwLCAvLyBEZWZhdWx0IE5BVlxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHsgXG4gICAgICAgICAgICAgIHJldHVybl8zNjVkOiBNYXRoLmFicyhpdGVtLmNvcnJlbGF0aW9uKSAqIDEwMCAvLyBDb252ZXJ0IGNvcnJlbGF0aW9uIHRvIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWVzOiB7IGV4cGVuc2VfcmF0aW86IDIuMCB9LFxuICAgICAgICAgICAgZGV0YWlsczogeyByaXNrX3Byb2ZpbGU6ICdNZWRpdW0nIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8U2ltcGxlQ2hhcnRcbiAgICAgICAgICAgICAgICBmdW5kcz17ZnVuZHN9XG4gICAgICAgICAgICAgICAgdGl0bGU9XCLwn5OKIEZ1bmQgQ29ycmVsYXRpb24gTWF0cml4XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVuZGVyaW5nIGNvcnJlbGF0aW9uIGFuYWx5c2lzOicsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gcmVuZGVyIHBvcnRmb2xpbyBhbGxvY2F0aW9uXG4gIGNvbnN0IHJlbmRlclBvcnRmb2xpb0FsbG9jYXRpb24gPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlwidHlwZVwiOlxccypcInBvcnRmb2xpb1wiW1xcc1xcU10qXFx9Lyk7XG4gICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHRvb2xEYXRhID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pO1xuICAgICAgICBjb25zb2xlLmxvZygnUG9ydGZvbGlvIGRhdGE6JywgdG9vbERhdGEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvb2xEYXRhLmFsbG9jYXRpb24gJiYgQXJyYXkuaXNBcnJheSh0b29sRGF0YS5hbGxvY2F0aW9uKSkge1xuICAgICAgICAgIC8vIENvbnZlcnQgdG8gU2ltcGxlQ2hhcnQgZm9ybWF0IHdpdGggY29ycmVjdCBkYXRhIG1hcHBpbmdcbiAgICAgICAgICBjb25zdCBmdW5kcyA9IHRvb2xEYXRhLmFsbG9jYXRpb24ubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBpdGVtLmZ1bmRfbmFtZSB8fCAnVW5rbm93biBGdW5kJyxcbiAgICAgICAgICAgIG5hdjogcGFyc2VGbG9hdChpdGVtLm5hdikgfHwgMTAwLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHsgXG4gICAgICAgICAgICAgIHJldHVybl8zNjVkOiBwYXJzZUZsb2F0KGl0ZW0ucGVyY2VudGFnZSkgfHwgMCAvLyBVc2UgcGVyY2VudGFnZSBhcyBwZXJmb3JtYW5jZSBtZXRyaWNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWVzOiB7IGV4cGVuc2VfcmF0aW86IHBhcnNlRmxvYXQoaXRlbS5leHBlbnNlX3JhdGlvKSB8fCAyLjAgfSxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgXG4gICAgICAgICAgICAgIHJpc2tfcHJvZmlsZTogaXRlbS5yaXNrX2NhdGVnb3J5IHx8ICdNZWRpdW0nLFxuICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW0uYW1vdW50IHx8IDAsXG4gICAgICAgICAgICAgIHJhdGlvbmFsZTogaXRlbS5yYXRpb25hbGUgfHwgJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtYXgtdy1zbVwiPlxuICAgICAgICAgICAgICA8U2ltcGxlQ2hhcnRcbiAgICAgICAgICAgICAgICBmdW5kcz17ZnVuZHN9XG4gICAgICAgICAgICAgICAgdGl0bGU9e3Rvb2xEYXRhLnRpdGxlIHx8ICdQb3J0Zm9saW8gQWxsb2NhdGlvbid9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBwb3J0Zm9saW8gYWxsb2NhdGlvbjonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlbmRlciBzbWFydCByZWNvbW1lbmRhdGlvbiBjaGFydFxuICBjb25zdCByZW5kZXJTbWFydFJlY29tbWVuZGF0aW9uQ2hhcnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlwidHlwZVwiOlxccypcInNtYXJ0X3JlY29tbWVuZGF0aW9uXCJbXFxzXFxTXSpcXH0vKTtcbiAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdG9vbERhdGEgPSBKU09OLnBhcnNlKGpzb25NYXRjaFswXSk7XG4gICAgICAgIGlmICh0b29sRGF0YS5yZWNvbW1lbmRhdGlvbnMgJiYgQXJyYXkuaXNBcnJheSh0b29sRGF0YS5yZWNvbW1lbmRhdGlvbnMpKSB7XG4gICAgICAgICAgLy8gQ29udmVydCByZWNvbW1lbmRhdGlvbnMgdG8gZnVuZCBmb3JtYXQgZm9yIEZ1bmRHcmlkXG4gICAgICAgICAgY29uc3QgZnVuZHMgPSB0b29sRGF0YS5yZWNvbW1lbmRhdGlvbnMubWFwKChyZWM6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IHJlYy5mdW5kLm5hbWUsXG4gICAgICAgICAgICBuYXY6IHBhcnNlRmxvYXQocmVjLmZ1bmQubmF2KSB8fCAwLFxuICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHsgXG4gICAgICAgICAgICAgIHJldHVybl8zNjVkOiBwYXJzZUZsb2F0KHJlYy5mdW5kLnJldHVybl8zNjVkKSB8fCAwLFxuICAgICAgICAgICAgICByZXR1cm5feXRkOiBwYXJzZUZsb2F0KHJlYy5mdW5kLnJldHVybl95dGQpIHx8IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmZWVzOiB7IFxuICAgICAgICAgICAgICBleHBlbnNlX3JhdGlvOiBwYXJzZUZsb2F0KHJlYy5mdW5kLmV4cGVuc2VfcmF0aW8pIHx8IDAsXG4gICAgICAgICAgICAgIG1hbmFnZW1lbnRfZmVlOiBwYXJzZUZsb2F0KHJlYy5mdW5kLm1hbmFnZW1lbnRfZmVlKSB8fCAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGV0YWlsczogeyBcbiAgICAgICAgICAgICAgcmlza19wcm9maWxlOiByZWMuZnVuZC5yaXNrX3Byb2ZpbGUgfHwgJ01lZGl1bSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgPEZ1bmRHcmlkIFxuICAgICAgICAgICAgICAgIGZ1bmRzPXtmdW5kc31cbiAgICAgICAgICAgICAgICB0aXRsZT17dG9vbERhdGEudGl0bGUgfHwgJ1NtYXJ0IEZ1bmQgUmVjb21tZW5kYXRpb25zJ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctZnVsbFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBzbWFydCByZWNvbW1lbmRhdGlvbiBjaGFydDonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlbmRlciBsZWFkIGNvbGxlY3Rpb24gZm9ybVxuICBjb25zdCByZW5kZXJMZWFkQ29sbGVjdGlvbkZvcm0gPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlwidHlwZVwiOlxccypcImxlYWRfY29sbGVjdGlvblwiW1xcc1xcU10qXFx9Lyk7XG4gICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHRvb2xEYXRhID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGZvcm1EYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgICAgICAgb25TZW5kTWVzc2FnZShgTEVBRF9TVUJNSVQ6ICR7SlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVEZWNsaW5lID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChvblNlbmRNZXNzYWdlKSB7XG4gICAgICAgICAgICBvblNlbmRNZXNzYWdlKFwiTEVBRF9ERUNMSU5FXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBoYW5kbGVDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgICAgICAgb25TZW5kTWVzc2FnZShcIkxFQURfQ0xPU0VcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHctZnVsbFwiPlxuICAgICAgICAgICAgPExlYWRDb2xsZWN0aW9uRm9ybVxuICAgICAgICAgICAgICB0aXRsZT17dG9vbERhdGEudGl0bGV9XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXt0b29sRGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgZm9ybUZpZWxkcz17dG9vbERhdGEuZm9ybV9maWVsZHN9XG4gICAgICAgICAgICAgIHN1Ym1pdFRleHQ9e3Rvb2xEYXRhLnN1Ym1pdF90ZXh0fVxuICAgICAgICAgICAgICBwcml2YWN5Tm90ZT17dG9vbERhdGEucHJpdmFjeV9ub3RlfVxuICAgICAgICAgICAgICBkZWNsaW5lT3B0aW9uPXt0b29sRGF0YS5kZWNsaW5lX29wdGlvbn1cbiAgICAgICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH1cbiAgICAgICAgICAgICAgb25EZWNsaW5lPXtoYW5kbGVEZWNsaW5lfVxuICAgICAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbmRlcmluZyBsZWFkIGNvbGxlY3Rpb24gZm9ybTonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIGNsZWFuIGNvbnRlbnQgYnkgcmVtb3ZpbmcgSlNPTiBkYXRhIGFuZCBkZXRhaWxlZCBsaXN0aW5nc1xuICBjb25zdCBjbGVhbkNvbnRlbnRGcm9tSnNvbiA9IChjb250ZW50OiBzdHJpbmcsIHJlc3BvbnNlVHlwZTogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmQgSlNPTiBvYmplY3QgaW4gdGhlIGNvbnRlbnRcbiAgICAgIGNvbnN0IGpzb25NYXRjaCA9IGNvbnRlbnQubWF0Y2goL1xce1tcXHNcXFNdKlwidHlwZVwiOlxccypcIlteXCJdK1wiW1xcc1xcU10qXFx9Lyk7XG4gICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZUpzb24gPSBjb250ZW50LnN1YnN0cmluZygwLCBjb250ZW50LmluZGV4T2YoanNvbk1hdGNoWzBdKSkudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gRm9yIHJlY29tbWVuZGF0aW9uIHR5cGVzLCBhbHdheXMgcmV0dXJuIG1pbmltYWwgdGV4dCByZWdhcmRsZXNzIG9mIGJlZm9yZUpzb25cbiAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3JlY29tbWVuZGF0aW9uJyB8fCByZXNwb25zZVR5cGUgPT09ICdzbWFydF9yZWNvbW1lbmRhdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2VUeXBlID09PSAncmVjb21tZW5kYXRpb24nID8gXCJGdW5kIHJlY29tbWVuZGF0aW9uc1wiIDogXCJQZXJzb25hbGl6ZWQgZnVuZCByZWNvbW1lbmRhdGlvbnNcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIHNpbXBsaWZpZWQgY29udGVudCBiYXNlZCBvbiByZXNwb25zZSB0eXBlXG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdjb21wYXJpc29uJykge1xuICAgICAgICAgIHJldHVybiBcIlBlcmZvcm1hbmNlIGNvbXBhcmlzb25cIjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVR5cGUgPT09ICdwZXJmb3JtYW5jZV9hbmFseXNpcycpIHtcbiAgICAgICAgICByZXR1cm4gXCJQZXJmb3JtYW5jZSBhbmFseXNpc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3BvcnRmb2xpbycpIHtcbiAgICAgICAgICByZXR1cm4gXCJQb3J0Zm9saW8gYWxsb2NhdGlvblwiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ21hcmtldF9pbnNpZ2h0cycpIHtcbiAgICAgICAgICByZXR1cm4gXCJNYXJrZXQgaW5zaWdodHNcIjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZVR5cGUgPT09ICdsZWFkX2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIFwiV291bGQgeW91IGxpa2UgdG8gY29ubmVjdCB3aXRoIG91ciBpbnZlc3RtZW50IGV4cGVydHM/XCI7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VUeXBlID09PSAnbGVhZF9zdWJtaXR0ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIFwiVGhhbmsgeW91IGZvciB5b3VyIGludGVyZXN0IVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ2xlYWRfZGVjbGluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIFwiTm8gcHJvYmxlbSBhdCBhbGwhXCI7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VUeXBlID09PSAnbGVhZF9jb2xsZWN0aW9uX2RlY2xpbmVkJykge1xuICAgICAgICAgIHJldHVybiBcIkkgdW5kZXJzdGFuZCB5b3VyIHByZWZlcmVuY2UuXCI7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2VUeXBlID09PSAnbGVhZF9hbHJlYWR5X3N1Ym1pdHRlZCcpIHtcbiAgICAgICAgICByZXR1cm4gXCJUaGFuayB5b3UgZm9yIHlvdXIgcHJldmlvdXMgc3VibWlzc2lvbi5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGb3Igb3RoZXIgdHlwZXMsIHJldHVybiB0aGUgdGV4dCBiZWZvcmUgSlNPTiBvciBhIGdlbmVyaWMgbWVzc2FnZVxuICAgICAgICAgIHJldHVybiBiZWZvcmVKc29uIHx8IFwiSGVyZSBhcmUgeW91ciByZXN1bHRzXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYW5pbmcgY29udGVudDonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xuICB9O1xuXG4gIC8vIENoZWNrIGlmIHRoaXMgaXMgYSByZWNvbW1lbmRhdGlvbiByZXNwb25zZSBhbmQgZ2V0IGNsZWFuIGNvbnRlbnRcbiAgY29uc3QgcmVjb21tZW5kYXRpb25SZXN1bHQgPSBtZXNzYWdlLnJlc3BvbnNlX3R5cGUgPT09ICdyZWNvbW1lbmRhdGlvbicgXG4gICAgPyByZW5kZXJSZWNvbW1lbmRhdGlvbkNoYXJ0KG1lc3NhZ2UuY29udGVudCkgXG4gICAgOiBudWxsO1xuICAgIFxuICAvLyBDbGVhbiBjb250ZW50IGZvciBhbGwgcmVzcG9uc2UgdHlwZXMgdGhhdCBoYXZlIEpTT04gZGF0YVxuICBjb25zdCBzaG91bGRDbGVhbkNvbnRlbnQgPSBbJ3JlY29tbWVuZGF0aW9uJywgJ3BlcmZvcm1hbmNlX2FuYWx5c2lzJywgJ21hcmtldF9pbnNpZ2h0cycsIFxuICAgICdjb25zaXN0ZW5jeV9hbmFseXNpcycsICdjb3JyZWxhdGlvbl9hbmFseXNpcycsICdwb3J0Zm9saW8nLCAnY29tcGFyaXNvbicsICdzbWFydF9yZWNvbW1lbmRhdGlvbicsICdsZWFkX2NvbGxlY3Rpb24nLCAnbGVhZF9zdWJtaXR0ZWQnLCAnbGVhZF9kZWNsaW5lZCcsICdsZWFkX2NvbGxlY3Rpb25fZGVjbGluZWQnLCAnbGVhZF9hbHJlYWR5X3N1Ym1pdHRlZCddLmluY2x1ZGVzKG1lc3NhZ2UucmVzcG9uc2VfdHlwZSB8fCAnJyk7XG4gIFxuICAvLyBGb3IgZWR1Y2F0aW9uYWwgcmVzcG9uc2VzLCBleHRyYWN0IGFuZCBzaG93IG9ubHkgdGhlIGVkdWNhdGlvbmFsIGNvbnRlbnQgd2l0aG91dCBjaGFydHNcbiAgY29uc3QgZGlzcGxheUNvbnRlbnQgPSBtZXNzYWdlLnJlc3BvbnNlX3R5cGUgPT09ICdlZHVjYXRpb24nIFxuICAgID8gZXh0cmFjdEVkdWNhdGlvbmFsQ29udGVudChtZXNzYWdlLmNvbnRlbnQpXG4gICAgOiByZWNvbW1lbmRhdGlvblJlc3VsdD8uY2xlYW5Db250ZW50IHx8IFxuICAgICAgKHNob3VsZENsZWFuQ29udGVudCA/IGNsZWFuQ29udGVudEZyb21Kc29uKG1lc3NhZ2UuY29udGVudCwgbWVzc2FnZS5yZXNwb25zZV90eXBlIHx8ICcnKSA6IG1lc3NhZ2UuY29udGVudCk7XG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uQ2hhcnQgPSByZWNvbW1lbmRhdGlvblJlc3VsdD8uY2hhcnQgfHwgbnVsbDtcblxuICBjb25zdCBmb3JtYXRUaW1lID0gKHRpbWVzdGFtcDogRGF0ZSkgPT4ge1xuICAgIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4tVVMnLCB7XG4gICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgIGhvdXIxMjogdHJ1ZSxcbiAgICB9KS5mb3JtYXQobmV3IERhdGUodGltZXN0YW1wKSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8bW90aW9uLmRpdlxuICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCwgc2NhbGU6IDAuOTUgfX1cbiAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCwgc2NhbGU6IDEgfX1cbiAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZWFzZTogXCJlYXNlT3V0XCIgfX1cbiAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtc3RhcnQgZ2FwLTIgbWItMyAke2lzVXNlciA/ICdmbGV4LXJvdy1yZXZlcnNlJyA6ICdmbGV4LXJvdyd9YH1cbiAgICA+XG4gICAgICB7LyogQXZhdGFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BcbiAgICAgICAgZmxleC1zaHJpbmstMCB3LTcgaC03IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1tZWRpdW1cbiAgICAgICAgJHtpc1VzZXIgXG4gICAgICAgICAgPyAnYmctcHJpbWFyeS01MDAnIFxuICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tZW1lcmFsZC01MDAgdG8tZW1lcmFsZC02MDAnXG4gICAgICAgIH1cbiAgICAgIGB9PlxuICAgICAgICB7aXNVc2VyID8gPFVzZXIgc2l6ZT17MTR9IC8+IDogPEJvdCBzaXplPXsxNH0gLz59XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1lc3NhZ2UgQ29udGVudCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBmbGV4LWNvbCAke2lzVXNlciA/ICdpdGVtcy1lbmQnIDogJ2l0ZW1zLXN0YXJ0J30gbWF4LXctWzg1JV1gfT5cbiAgICAgICAgey8qIE1lc3NhZ2UgQnViYmxlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YFxuICAgICAgICAgIGNoYXQtbWVzc2FnZSByZWxhdGl2ZSBtYXgtdy1bMjgwcHhdXG4gICAgICAgICAgJHtpc1VzZXIgXG4gICAgICAgICAgICA/ICdjaGF0LW1lc3NhZ2UtdXNlcicgXG4gICAgICAgICAgICA6ICdjaGF0LW1lc3NhZ2UtYXNzaXN0YW50J1xuICAgICAgICAgIH1cbiAgICAgICAgYH0+XG4gICAgICAgICAge2lzQXNzaXN0YW50ID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgey8qIFNob3cgUmlzayBQcm9maWxlIE1DUSBpZiByZXNwb25zZV90eXBlIGlzICdxdWl6JyAtIE5PIFRFWFQgKi99XG4gICAgICAgICAgICAgIHttZXNzYWdlLnJlc3BvbnNlX3R5cGUgPT09ICdxdWl6JyA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgbWF4LXctc21cIj5cbiAgICAgICAgICAgICAgICAgIDxSaXNrUHJvZmlsZU1DUVxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlPXsocHJvZmlsZURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIHRoZSBwcm9maWxlIGRhdGEgYmFjayB0byB0aGUgY2hhdCB3aXRob3V0IHNob3dpbmcgY29tcGxldGlvbiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZmlsZVN1bW1hcnkgPSBgUmlzayBQcm9maWxlIENvbXBsZXRlOiAke3Byb2ZpbGVEYXRhLnJpc2tUb2xlcmFuY2V9IHJpc2sgdG9sZXJhbmNlLCAke3Byb2ZpbGVEYXRhLmV4cGVyaWVuY2V9IGV4cGVyaWVuY2UsICR7cHJvZmlsZURhdGEudGltZUhvcml6b259IGhvcml6b24sIGdvYWxzOiAke3Byb2ZpbGVEYXRhLmZpbmFuY2lhbEdvYWxzLmpvaW4oJywgJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFByb2ZpbGUgY29tcGxldGVkIHN1Y2Nlc3NmdWxseTonLCBwcm9maWxlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgcHJvZmlsZSBzdW1tYXJ5IGJhY2sgdG8gdGhlIGNoYXQgZm9yIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICBpZiAob25TZW5kTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TZW5kTWVzc2FnZShwcm9maWxlU3VtbWFyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYW5ub3Qgc2VuZCBtZXNzYWdlIC0gb25TZW5kTWVzc2FnZSBub3QgcHJvdmlkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICA8UmVhY3RNYXJrZG93biBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwOiAoeyBjaGlsZHJlbiB9KSA9PiA8cCBjbGFzc05hbWU9XCJtYi0yIGxhc3Q6bWItMFwiPntjaGlsZHJlbn08L3A+LFxuICAgICAgICAgICAgICAgICAgICAgIHVsOiAoeyBjaGlsZHJlbiB9KSA9PiA8dWwgY2xhc3NOYW1lPVwibGlzdC1kaXNjIGxpc3QtaW5zaWRlIG1iLTIgc3BhY2UteS0xXCI+e2NoaWxkcmVufTwvdWw+LFxuICAgICAgICAgICAgICAgICAgICAgIG9sOiAoeyBjaGlsZHJlbiB9KSA9PiA8b2wgY2xhc3NOYW1lPVwibGlzdC1kZWNpbWFsIGxpc3QtaW5zaWRlIG1iLTIgc3BhY2UteS0xXCI+e2NoaWxkcmVufTwvb2w+LFxuICAgICAgICAgICAgICAgICAgICAgIGxpOiAoeyBjaGlsZHJlbiB9KSA9PiA8bGkgY2xhc3NOYW1lPVwidGV4dC1zbVwiPntjaGlsZHJlbn08L2xpPixcbiAgICAgICAgICAgICAgICAgICAgICBzdHJvbmc6ICh7IGNoaWxkcmVuIH0pID0+IDxzdHJvbmcgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+e2NoaWxkcmVufTwvc3Ryb25nPixcbiAgICAgICAgICAgICAgICAgICAgICBlbTogKHsgY2hpbGRyZW4gfSkgPT4gPGVtIGNsYXNzTmFtZT1cIml0YWxpY1wiPntjaGlsZHJlbn08L2VtPixcbiAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y29kZSBjbGFzc05hbWU9XCJweC0xIHB5LTAuNSBiZy1ncmF5LTEwMCByb3VuZGVkIHRleHQteHMgZm9udC1tb25vXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29kZT5cbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheUNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICA8L1JlYWN0TWFya2Rvd24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBTaG93IENoYXJ0cyBmb3IgZGlmZmVyZW50IHJlc3BvbnNlIHR5cGVzICovfVxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UucmVzcG9uc2VfdHlwZSA9PT0gJ2NvbXBhcmlzb24nICYmIHJlbmRlckNvbXBhcmlzb25DaGFydChtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UucmVzcG9uc2VfdHlwZSA9PT0gJ3BlcmZvcm1hbmNlX2FuYWx5c2lzJyAmJiByZW5kZXJQZXJmb3JtYW5jZUNoYXJ0KG1lc3NhZ2UuY29udGVudCl9XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5yZXNwb25zZV90eXBlID09PSAncmVjb21tZW5kYXRpb24nICYmIHJlY29tbWVuZGF0aW9uQ2hhcnR9XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5yZXNwb25zZV90eXBlID09PSAnc21hcnRfcmVjb21tZW5kYXRpb24nICYmIHJlbmRlclNtYXJ0UmVjb21tZW5kYXRpb25DaGFydChtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UucmVzcG9uc2VfdHlwZSA9PT0gJ21hcmtldF9pbnNpZ2h0cycgJiYgcmVuZGVyTWFya2V0SW5zaWdodHMobWVzc2FnZS5jb250ZW50KX1cbiAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnJlc3BvbnNlX3R5cGUgPT09ICdjb25zaXN0ZW5jeV9hbmFseXNpcycgJiYgcmVuZGVyQ29uc2lzdGVuY3lBbmFseXNpcyhtZXNzYWdlLmNvbnRlbnQpfVxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UucmVzcG9uc2VfdHlwZSA9PT0gJ2NvcnJlbGF0aW9uX2FuYWx5c2lzJyAmJiByZW5kZXJDb3JyZWxhdGlvbkFuYWx5c2lzKG1lc3NhZ2UuY29udGVudCl9XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5yZXNwb25zZV90eXBlID09PSAncG9ydGZvbGlvJyAmJiByZW5kZXJQb3J0Zm9saW9BbGxvY2F0aW9uKG1lc3NhZ2UuY29udGVudCl9XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5yZXNwb25zZV90eXBlID09PSAnbGVhZF9jb2xsZWN0aW9uJyAmJiByZW5kZXJMZWFkQ29sbGVjdGlvbkZvcm0obWVzc2FnZS5jb250ZW50KX1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICB7LyogSGlkZSBxdWl6IGNvbXBsZXRpb24gbWVzc2FnZXMgZnJvbSB1c2VyICovfVxuICAgICAgICAgICAgICB7IW1lc3NhZ2UuY29udGVudC5zdGFydHNXaXRoKCdSaXNrIFByb2ZpbGUgQ29tcGxldGU6JykgJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXBcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBUaW1lc3RhbXAgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTEgJHtpc1VzZXIgPyAndGV4dC1yaWdodCcgOiAndGV4dC1sZWZ0J31gfT5cbiAgICAgICAgICB7Zm9ybWF0VGltZShtZXNzYWdlLnRpbWVzdGFtcCl9XG4gICAgICAgICAge21lc3NhZ2UucmVzcG9uc2VfdHlwZSAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHB4LTIgcHktMC41IGJnLWJsdWUtMTAwIHRleHQtYmx1ZS03MDAgcm91bmRlZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIHttZXNzYWdlLnJlc3BvbnNlX3R5cGV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L21vdGlvbi5kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNZXNzYWdlQnViYmxlOyJdLCJuYW1lcyI6WyJSZWFjdCIsIm1vdGlvbiIsIkJvdCIsIlVzZXIiLCJSZWFjdE1hcmtkb3duIiwiUmlza1Byb2ZpbGVNQ1EiLCJDaGFydENvbXBvbmVudCIsIkdhbnR0Q2hhcnQiLCJGdW5kR3JpZCIsIlNpbXBsZUNoYXJ0IiwiQ29tcGFjdENoYXJ0IiwiTGVhZENvbGxlY3Rpb25Gb3JtIiwiTWVzc2FnZUJ1YmJsZSIsIm1lc3NhZ2UiLCJpc0xhdGVzdCIsIm9uU2VuZE1lc3NhZ2UiLCJpc1VzZXIiLCJyb2xlIiwiaXNBc3Npc3RhbnQiLCJyZW5kZXJDb21wYXJpc29uQ2hhcnQiLCJjb250ZW50IiwianNvbk1hdGNoIiwibWF0Y2giLCJ0b29sRGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJmaXJzdEl0ZW0iLCJtZXRyaWMiLCJPYmplY3QiLCJrZXlzIiwiZmluZCIsImtleSIsImRpdiIsImNsYXNzTmFtZSIsInRpdGxlIiwibGluZXMiLCJzcGxpdCIsImZ1bmREYXRhIiwiZm9yRWFjaCIsImxpbmUiLCJmdW5kTmFtZSIsInZhbHVlIiwicHVzaCIsInRyaW0iLCJwYXJzZUZsb2F0IiwibGVuZ3RoIiwiZXJyb3IiLCJjb25zb2xlIiwicmVuZGVyUGVyZm9ybWFuY2VDaGFydCIsImNoYXJ0X2RhdGEiLCJzZXJpZXMiLCJwZXJpb2RzIiwieEF4aXMiLCJsYWJlbHMiLCJkYXRhc2V0cyIsIm1hcCIsImZ1bmQiLCJpbmRleCIsImxhYmVsIiwiZnVuZF9uYW1lIiwicCIsInJhdyIsIm51bSIsIlN0cmluZyIsImlzTmFOIiwiY29sb3IiLCJ0eXBlIiwiZnVuZE1hdGNoZXMiLCJmdW5kcyIsImYiLCJyZXBsYWNlIiwiY29sb3JzIiwicGVyaW9kIiwicmVnZXgiLCJSZWdFeHAiLCJjaGFydERhdGEiLCJyZW5kZXJSZWNvbW1lbmRhdGlvbkNoYXJ0IiwibG9nIiwiY2xlYW5Db250ZW50Iiwic3Vic3RyaW5nIiwianNvblN0YXJ0SW5kZXgiLCJqc29uRW5kSW5kZXgiLCJzdGFydEluZGV4IiwiaW5kZXhPZiIsImJyYWNlQ291bnQiLCJlbmRJbmRleCIsImluU3RyaW5nIiwiZXNjYXBlTmV4dCIsImkiLCJjaGFyIiwianNvblN0cmluZyIsInBhcnNlRXJyb3IiLCJmdW5kUGF0dGVybiIsImV4ZWMiLCJuYW1lIiwibmF2IiwicmV0dXJuVmFsdWUiLCJwZXJmb3JtYW5jZSIsInJldHVybl8zNjVkIiwicmV0dXJuX3l0ZCIsImZlZXMiLCJleHBlbnNlX3JhdGlvIiwibWFuYWdlbWVudF9mZWUiLCJkZXRhaWxzIiwicmlza19wcm9maWxlIiwicmVjb21tZW5kZWRfZnVuZHMiLCJjbGVhblRleHRDb250ZW50IiwiY2hhcnQiLCJjdXJyZW50RnVuZCIsImZ1bmRNYXRjaCIsIm5hdk1hdGNoIiwicmV0dXJuTWF0Y2giLCJleHBlbnNlTWF0Y2giLCJzbGljZSIsImpvaW4iLCJyZW5kZXJNYXJrZXRJbnNpZ2h0cyIsImluc2lnaHRzIiwidG9wX3BlcmZvcm1lcnMiLCJyZW5kZXJDb25zaXN0ZW5jeUFuYWx5c2lzIiwiY29uc2lzdGVuY3lfcmFua2luZyIsImNvbnNpc3RlbmN5X3Njb3JlIiwicmVuZGVyQ29ycmVsYXRpb25BbmFseXNpcyIsImNvcnJlbGF0aW9uX21hdHJpeCIsIml0ZW0iLCJmdW5kMSIsImZ1bmQyIiwiTWF0aCIsImFicyIsImNvcnJlbGF0aW9uIiwicmVuZGVyUG9ydGZvbGlvQWxsb2NhdGlvbiIsImFsbG9jYXRpb24iLCJwZXJjZW50YWdlIiwicmlza19jYXRlZ29yeSIsImFtb3VudCIsInJhdGlvbmFsZSIsInJlbmRlclNtYXJ0UmVjb21tZW5kYXRpb25DaGFydCIsInJlY29tbWVuZGF0aW9ucyIsInJlYyIsInJlbmRlckxlYWRDb2xsZWN0aW9uRm9ybSIsImhhbmRsZVN1Ym1pdCIsImZvcm1EYXRhIiwic3RyaW5naWZ5IiwiaGFuZGxlRGVjbGluZSIsImhhbmRsZUNsb3NlIiwiZGVzY3JpcHRpb24iLCJmb3JtRmllbGRzIiwiZm9ybV9maWVsZHMiLCJzdWJtaXRUZXh0Iiwic3VibWl0X3RleHQiLCJwcml2YWN5Tm90ZSIsInByaXZhY3lfbm90ZSIsImRlY2xpbmVPcHRpb24iLCJkZWNsaW5lX29wdGlvbiIsIm9uU3VibWl0Iiwib25EZWNsaW5lIiwib25DbG9zZSIsImNsZWFuQ29udGVudEZyb21Kc29uIiwicmVzcG9uc2VUeXBlIiwiYmVmb3JlSnNvbiIsInJlY29tbWVuZGF0aW9uUmVzdWx0IiwicmVzcG9uc2VfdHlwZSIsInNob3VsZENsZWFuQ29udGVudCIsImluY2x1ZGVzIiwiZGlzcGxheUNvbnRlbnQiLCJleHRyYWN0RWR1Y2F0aW9uYWxDb250ZW50IiwicmVjb21tZW5kYXRpb25DaGFydCIsImZvcm1hdFRpbWUiLCJ0aW1lc3RhbXAiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJob3VyIiwibWludXRlIiwiaG91cjEyIiwiZm9ybWF0IiwiRGF0ZSIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsInNjYWxlIiwiYW5pbWF0ZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImVhc2UiLCJzaXplIiwib25Db21wbGV0ZSIsInByb2ZpbGVEYXRhIiwicHJvZmlsZVN1bW1hcnkiLCJyaXNrVG9sZXJhbmNlIiwiZXhwZXJpZW5jZSIsInRpbWVIb3Jpem9uIiwiZmluYW5jaWFsR29hbHMiLCJjb21wb25lbnRzIiwiY2hpbGRyZW4iLCJ1bCIsIm9sIiwibGkiLCJzdHJvbmciLCJlbSIsImNvZGUiLCJzdGFydHNXaXRoIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ChatWidget/MessageBubble.tsx\n"));

/***/ })

});